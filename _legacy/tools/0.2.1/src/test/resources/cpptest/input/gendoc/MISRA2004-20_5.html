<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
The error indicator errno shall not be used
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
The error indicator errno shall not be used [MISRA2004-20_5-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"errno is a facility of C, which in theory should be useful, 
but which in practice is poorly defined by the standard. 
A non zero value may or may not indicate that a problem has occurred;
as a result it shall not be used.
Even for those functions for which the behaviour of errno is well defined,
it is preferable to check the values of inputs before 
calling the function rather than rely on using errno to trap errors"
Rule reports a violation message if errno indicator is used and the file
includes any of the following headers: errno.h, errno, cerrno.



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Rule prevents undefined behaviour.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

#include &lt;errno.h&gt;

int err_check( ) {
    errno = 1;       /* Violation */
    return (errno);  /* Violation */
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

Do not use errno.



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. MISRA-C:2004 Guidelines for the use of the C language in critical systems
   Chapter 6, Section 20

2. Origin: Misra Guidelines - Rule 119

3. JOINT STRIKE FIGHTER, AIR VEHICLE, C++ CODING STANDARDS
   Chapter 4.5 Libraries, AV Rule 17

4. MISRA C++:2008 Guidelines for the use of the C++ language in critical
   systems, Chapter 6, Section 19, Rule 19-3-1

</PRE>
</BODY>
</HTML>
